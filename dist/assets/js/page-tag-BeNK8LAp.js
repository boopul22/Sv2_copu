var c=(o,n,i)=>new Promise((m,s)=>{var d=r=>{try{t(i.next(r))}catch(u){s(u)}},p=r=>{try{t(i.throw(r))}catch(u){s(u)}},t=r=>r.done?m(r.value):Promise.resolve(r.value).then(d,p);t((i=i.apply(o,n)).next())});import{d as b,r as l,j as e}from"./react-vendor-DV45Ikwi.js";import{B as N,C as x}from"./utils-BE2o5J05.js";import{P as v}from"./components-BPkeUS7W.js";import"./vendor-B0T_4ch3.js";import"./supabase-vendor-CPNJAKHt.js";const y=({searchQuery:o})=>{const{slug:n}=b(),[i,m]=l.useState([]),[s,d]=l.useState(null),[p,t]=l.useState(!0),[r,u]=l.useState(null);l.useEffect(()=>{n&&f()},[n,o]);const f=()=>c(null,null,function*(){try{t(!0);const a=yield N(n);if(!a)throw new Error("Tag not found");d(a);const g=yield x(a.id,o);m(g)}catch(a){u("Failed to load tag posts")}finally{t(!1)}});return p?e.jsxDEV("div",{className:"main-grid",children:e.jsxDEV("div",{className:"loading",children:"Loading posts..."},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Tag.jsx",lineNumber:46,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Tag.jsx",lineNumber:45,columnNumber:7},void 0):r?e.jsxDEV("div",{className:"main-grid",children:e.jsxDEV("div",{className:"error",children:r},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Tag.jsx",lineNumber:54,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Tag.jsx",lineNumber:53,columnNumber:7},void 0):i.length===0?e.jsxDEV("div",{className:"main-grid",children:e.jsxDEV("div",{className:"loading",children:o?`No posts found with tag "${s==null?void 0:s.name}" for "${o}"`:`No posts found with tag "${s==null?void 0:s.name}"`},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Tag.jsx",lineNumber:62,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Tag.jsx",lineNumber:61,columnNumber:7},void 0):e.jsxDEV(e.Fragment,{children:[s&&e.jsxDEV("div",{style:{textAlign:"center",marginBottom:"30px",padding:"20px",background:"white",border:"1px solid #f0f0f0"},children:[e.jsxDEV("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#333",marginBottom:"10px"},children:["#",s.name]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Tag.jsx",lineNumber:82,columnNumber:11},void 0),s.description&&e.jsxDEV("p",{style:{color:"#666",fontSize:"16px"},children:s.description},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Tag.jsx",lineNumber:91,columnNumber:13},void 0),e.jsxDEV("p",{style:{color:"#999",fontSize:"14px",marginTop:"10px"},children:[i.length," ",i.length===1?"post":"posts"]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Tag.jsx",lineNumber:95,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Tag.jsx",lineNumber:75,columnNumber:9},void 0),e.jsxDEV("div",{className:"main-grid",children:i.map(a=>e.jsxDEV(v,{post:a},a.id,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Tag.jsx",lineNumber:103,columnNumber:11},void 0))},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Tag.jsx",lineNumber:101,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Tag.jsx",lineNumber:73,columnNumber:5},void 0)};export{y as default};
