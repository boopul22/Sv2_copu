var X=Object.defineProperty,G=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var J=(t,r,i)=>r in t?X(t,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[r]=i,b=(t,r)=>{for(var i in r||(r={}))K.call(r,i)&&J(t,i,r[i]);if(U)for(var i of U(r))Q.call(r,i)&&J(t,i,r[i]);return t},_=(t,r)=>G(t,Z(r));var k=(t,r,i)=>new Promise((g,s)=>{var d=m=>{try{x(i.next(m))}catch(y){s(y)}},j=m=>{try{x(i.throw(m))}catch(y){s(y)}},x=m=>m.done?g(m.value):Promise.resolve(m.value).then(d,j);x((i=i.apply(t,r)).next())});import{r as a,L as O,u as D}from"./router-vendor-D18kv6pQ.js";import{r as ee}from"./react-vendor-KrEfUMzG.js";import{c as te}from"./supabase-vendor-BObifuqK.js";var M={exports:{}},A={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W;function se(){if(W)return A;W=1;var t=ee(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),g=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function j(x,m,y){var n,u={},p=null,c=null;y!==void 0&&(p=""+y),m.key!==void 0&&(p=""+m.key),m.ref!==void 0&&(c=m.ref);for(n in m)g.call(m,n)&&!d.hasOwnProperty(n)&&(u[n]=m[n]);if(x&&x.defaultProps)for(n in m=x.defaultProps,m)u[n]===void 0&&(u[n]=m[n]);return{$$typeof:r,type:x,key:p,ref:c,props:u,_owner:s.current}}return A.Fragment=i,A.jsx=j,A.jsxs=j,A}var Y;function re(){return Y||(Y=1,M.exports=se()),M.exports}var e=re();const H=(t,r=150)=>{if(!t)return"";const i=t.replace(/<[^>]*>/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/\s+/g," ").trim();if(i.length<=r)return i;const g=i.substring(0,r),s=g.lastIndexOf(" ");return s>r*.8?g.substring(0,s)+"...":g+"..."},V=t=>{if(!t)return null;const r=t.match(/<img[^>]+src="([^"]*)"[^>]*>/i);return r?r[1]:null},ie=t=>{if(!t)return"";const r=new Date(t),g=Math.abs(new Date-r),s=Math.ceil(g/(1e3*60*60*24));return s===1?"Yesterday":s<7?`${s} days ago`:s<30?`${Math.ceil(s/7)} weeks ago`:r.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},fe=(t,r)=>{let i;return function(...s){const d=()=>{clearTimeout(i),t(...s)};clearTimeout(i),i=setTimeout(d,r)}},I=a.memo(({type:t="post",count:r=1,className:i="",style:g={}})=>{const s=b({backgroundColor:"#f0f0f0",borderRadius:"4px",position:"relative",overflow:"hidden"},g),d={position:"absolute",top:0,left:"-100%",width:"100%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent)",animation:"shimmer 1.5s infinite"},j=()=>e.jsxs("div",{className:`skeleton-post ${i}`,style:{marginBottom:"20px"},children:[e.jsx("div",{style:_(b({},s),{width:"100%",height:"200px",marginBottom:"15px"}),children:e.jsx("div",{style:d})}),e.jsx("div",{style:_(b({},s),{width:"80%",height:"24px",marginBottom:"10px"}),children:e.jsx("div",{style:d})}),e.jsx("div",{style:_(b({},s),{width:"100%",height:"16px",marginBottom:"8px"}),children:e.jsx("div",{style:d})}),e.jsx("div",{style:_(b({},s),{width:"90%",height:"16px",marginBottom:"8px"}),children:e.jsx("div",{style:d})}),e.jsx("div",{style:_(b({},s),{width:"70%",height:"16px",marginBottom:"15px"}),children:e.jsx("div",{style:d})}),e.jsxs("div",{style:{display:"flex",gap:"15px"},children:[e.jsx("div",{style:_(b({},s),{width:"80px",height:"14px"}),children:e.jsx("div",{style:d})}),e.jsx("div",{style:_(b({},s),{width:"100px",height:"14px"}),children:e.jsx("div",{style:d})})]})]}),x=()=>e.jsx("div",{className:`skeleton-author ${i}`,style:{marginBottom:"15px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[e.jsx("div",{style:_(b({},s),{width:"50px",height:"50px",borderRadius:"50%"}),children:e.jsx("div",{style:d})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:_(b({},s),{width:"150px",height:"18px",marginBottom:"5px"}),children:e.jsx("div",{style:d})}),e.jsx("div",{style:_(b({},s),{width:"200px",height:"14px"}),children:e.jsx("div",{style:d})})]})]})}),m=()=>e.jsx("div",{className:`skeleton-header ${i}`,style:{marginBottom:"30px"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("div",{style:_(b({},s),{width:"120px",height:"32px"}),children:e.jsx("div",{style:d})}),e.jsx("div",{style:{display:"flex",gap:"20px"},children:[1,2,3,4,5].map(p=>e.jsx("div",{style:_(b({},s),{width:"60px",height:"20px"}),children:e.jsx("div",{style:d})},p))}),e.jsx("div",{style:_(b({},s),{width:"200px",height:"36px"}),children:e.jsx("div",{style:d})})]})}),y=({lines:p=3,width:c="100%"})=>e.jsx("div",{className:`skeleton-text ${i}`,children:Array.from({length:p}).map((f,h)=>e.jsx("div",{style:_(b({},s),{width:h===p-1?"70%":c,height:"16px",marginBottom:"8px"}),children:e.jsx("div",{style:d})},h))}),n=({width:p="100%",height:c="200px"})=>e.jsx("div",{className:`skeleton-image ${i}`,style:_(b({},s),{width:p,height:c}),children:e.jsx("div",{style:d})}),u=()=>{switch(t){case"post":return e.jsx(j,{});case"author":return e.jsx(x,{});case"header":return e.jsx(m,{});case"text":return e.jsx(y,{});case"image":return e.jsx(n,{});default:return e.jsx(j,{})}};return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
          @keyframes shimmer {
            0% {
              transform: translateX(-100%);
            }
            100% {
              transform: translateX(100%);
            }
          }
        `}),e.jsx("div",{className:`skeleton-loader ${i}`,children:Array.from({length:r}).map((p,c)=>e.jsx("div",{children:u()},c))})]})});I.displayName="SkeletonLoader";a.memo(()=>e.jsx(I,{type:"post",count:1}));a.memo(()=>e.jsx(I,{type:"author",count:1}));a.memo(()=>e.jsx(I,{type:"header",count:1}));a.memo(({lines:t=3})=>e.jsx(I,{type:"text",lines:t}));a.memo(({width:t,height:r})=>e.jsx(I,{type:"image",width:t,height:r}));const oe="https://ckjpejxjpcfmlyopqabt.supabase.co",ne="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNranBlanhqcGNmbWx5b3BxYWJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM3MTk5OTUsImV4cCI6MjA2OTI5NTk5NX0.sdinJPYznrITCIJBijRV2iwA0TSLLsTmLWtTYY37OLE",w=te(oe,ne),F=a.memo(({src:t,alt:r,width:i,height:g,className:s="",style:d={},lazy:j=!0,priority:x=!1,sizes:m="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",aspectRatio:y=null})=>{const[n,u]=a.useState(!1),[p,c]=a.useState(!j||x),[f,h]=a.useState(!1),o=a.useRef(null),l=a.useRef(null);a.useEffect(()=>{if(!j||x||p)return;const v=new IntersectionObserver(P=>{P.forEach(q=>{q.isIntersecting&&(c(!0),v.disconnect())})},{rootMargin:"50px",threshold:.1});return o.current&&(v.observe(o.current),l.current=v),()=>{l.current&&l.current.disconnect()}},[j,x,p]);const N=(v,P,q=80)=>{if(!v)return null;if(v.includes("supabase.co/storage/v1/object/public/"))try{const $=new URL(v);return $.searchParams.set("width",P.toString()),$.searchParams.set("quality",q.toString()),$.searchParams.set("format","webp"),$.toString()}catch($){return console.warn("Failed to optimize image URL:",$),v}return v},S=(v,P="original")=>v?[320,480,640,768,1024,1280,1920].filter(z=>!i||z<=i*2).map(z=>{let R=N(v,z);if(P==="webp")if(R.includes("supabase.co/storage/v1/object/public/"))try{const B=new URL(R);B.searchParams.set("format","webp"),R=B.toString()}catch(B){console.warn("Failed to create WebP URL:",B)}else R=R.replace(/\.(jpg|jpeg|png)$/i,".webp");return`${R} ${z}w`}).join(", "):"",C=()=>{u(!0)},E=()=>{h(!0)},L=e.jsx("div",{className:`image-placeholder ${s}`,style:_(b({},d),{backgroundColor:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",color:"#999",fontSize:"14px"}),ref:o,children:f?"Failed to load":"Loading..."});return!p||f?L:e.jsxs("div",{className:`optimized-image-container ${s}`,style:d,ref:o,children:[e.jsxs("picture",{children:[e.jsx("source",{srcSet:S(t,"webp"),sizes:m,type:"image/webp"}),e.jsx("img",{src:N(t,i),srcSet:S(t),sizes:m,alt:r,width:i,height:g,loading:j&&!x?"lazy":"eager",fetchPriority:x?"high":"auto",decoding:"async",onLoad:C,onError:E,style:{width:"100%",height:"100%",objectFit:"cover",transition:"opacity 0.3s ease",opacity:n?1:0,display:"block"}})]}),!n&&e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",color:"#999",fontSize:"14px"},children:e.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid #f3f3f3",borderTop:"2px solid #333",borderRadius:"50%",animation:"spin 1s linear infinite"}})})]})},(t,r)=>t.src===r.src&&t.width===r.width&&t.height===r.height&&t.lazy===r.lazy&&t.priority===r.priority);F.displayName="OptimizedImage";const T=a.memo(({post:t,featured:r=!1,priority:i=!1})=>{const g=()=>"Admin";if(r){const d=V(t.content);return e.jsxs(O,{to:`/${t.slug}`,className:"featured",children:[d&&e.jsx("div",{className:"featured-image",children:e.jsx(F,{src:d,alt:t.title,width:800,height:200,priority:i||r,style:{borderRadius:"8px",marginBottom:"15px"}})}),e.jsx("div",{className:"featured-title",children:t.title}),e.jsx("div",{className:"featured-content",children:H(t.content,200)}),e.jsxs("div",{className:"featured-author",children:["By ",g()]})]})}const s=V(t.content);return e.jsxs(O,{to:`/${t.slug}`,className:"poem-card",children:[s&&e.jsx("div",{className:"poem-image",children:e.jsx(F,{src:s,alt:t.title,width:400,height:150,lazy:!i,priority:i,style:{borderRadius:"8px",marginBottom:"10px"}})}),e.jsx("div",{className:"poem-title",children:t.title}),e.jsx("div",{className:"poem-preview",children:H(t.content)}),e.jsxs("div",{className:"poem-meta",children:[e.jsxs("div",{className:"author",children:["By ",g()]}),e.jsx("div",{className:"date",children:ie(t.published_at)})]})]})},(t,r)=>t.post.id===r.post.id&&t.featured===r.featured&&t.priority===r.priority);T.displayName="PostCard";const ae=({searchQuery:t})=>{const[r,i]=a.useState([]),[g,s]=a.useState(!0),[d,j]=a.useState(null),[x,m]=a.useState(!0),[y,n]=a.useState(0),u=12;a.useEffect(()=>{p(!0)},[t]);const p=(h=!1)=>k(null,null,function*(){try{s(!0);const l=(h?0:y)*u,N=l+u-1;let S=w.from("posts").select("id, title, slug, excerpt, author_id, published_at, status, content").eq("status","published").order("published_at",{ascending:!1}).range(l,N);t&&t.trim()&&(S=S.or(`title.ilike.%${t}%,content.ilike.%${t}%`));const{data:C,error:E}=yield S;if(E)throw E;const L=C||[];h?(i(L),n(1)):(i(v=>[...v,...L]),n(v=>v+1)),m(L.length===u)}catch(o){console.error("Error fetching posts:",o),j("Failed to load posts")}finally{s(!1)}});if(g&&r.length===0)return e.jsx("div",{className:"main-grid",children:e.jsx(I,{type:"post",count:6})});if(d)return e.jsx("div",{className:"main-grid",children:e.jsx("div",{className:"error",children:d})});if(r.length===0&&!g)return e.jsx("div",{className:"main-grid",children:e.jsx("div",{className:"loading",children:t?`No posts found for "${t}"`:"No posts available"})});const[c,...f]=r;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"main-grid",children:[c&&!t&&e.jsx(T,{post:c,featured:!0,priority:!0}),(t?r:f).map((h,o)=>e.jsx(T,{post:h,priority:o<3},h.id))]}),x&&!t&&e.jsx("div",{className:"load-more-container",children:e.jsx("button",{onClick:()=>p(!1),disabled:g,className:"load-more-btn",children:g?e.jsxs("div",{className:"loading-inline",children:[e.jsx("div",{className:"spinner",style:{width:"16px",height:"16px",marginRight:"8px"}}),"Loading..."]}):"Load More Posts"})})]})},je=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"})),le=()=>{const{slug:t}=D(),[r,i]=a.useState(null),[g,s]=a.useState([]),[d,j]=a.useState([]),[x,m]=a.useState([]),[y,n]=a.useState(!0),[u,p]=a.useState(null);a.useEffect(()=>{t&&c()},[t]);const c=()=>k(null,null,function*(){var o,l;try{n(!0);const{data:N,error:S}=yield w.from("posts").select("id, title, slug, content, author_id, published_at, status").eq("slug",t).eq("status","published").single();if(S)throw S;i(N);const[C,E,L]=yield Promise.all([w.from("posts").select("id, title, slug, published_at").eq("status","published").neq("id",N.id).order("published_at",{ascending:!1}).limit(3),w.from("post_categories").select(`
            categories (
              id,
              name,
              slug
            )
          `).eq("post_id",N.id),w.from("post_tags").select(`
            tags (
              id,
              name,
              slug
            )
          `).eq("post_id",N.id)]);s(C.data||[]),j(((o=E.data)==null?void 0:o.map(v=>v.categories))||[]),m(((l=L.data)==null?void 0:l.map(v=>v.tags))||[])}catch(N){console.error("Error fetching post:",N),p("Post not found")}finally{n(!1)}}),f=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),h=o=>{if(!o)return"";let l=o.replace(/<!-- wp:.*? -->/g,"");return l=l.replace(/<!-- \/wp:.*? -->/g,""),l=l.replace(/class="[^"]*wp-[^"]*"/g,""),l=l.replace(/class="[^"]*has-[^"]*"/g,""),l=l.replace(/style="[^"]*text-transform:[^"]*"/g,""),l=l.replace(/<img([^>]*)src="([^"]*)"([^>]*)>/g,(N,S,C,E)=>`<img${S}src="${C}"${E} loading="lazy" decoding="async" style="max-width: 100%; height: auto; margin: 20px 0; border-radius: 8px;" sizes="(max-width: 768px) 100vw, 800px">`),l=l.replace(/<h([1-6])([^>]*)>/g,'<h$1$2 style="margin: 30px 0 20px 0;">'),l=l.replace(/<blockquote([^>]*)>/g,'<blockquote$1 style="margin: 20px 0; padding: 15px 20px; border-left: 4px solid #ddd; background: #f9f9f9; font-style: italic;">'),l.trim()};return y?e.jsx("div",{className:"single-poem-grid",children:e.jsx("div",{className:"loading",children:"Loading post..."})}):u||!r?e.jsx("div",{className:"single-poem-grid",children:e.jsx("div",{className:"error",children:u||"Post not found"})}):e.jsxs("div",{className:"single-poem-grid",children:[e.jsxs("div",{className:"poem-content",children:[e.jsx("div",{className:"poem-full-title",children:r.title}),e.jsxs("div",{className:"poem-meta",style:{marginBottom:"30px"},children:[e.jsx("div",{className:"author",children:"By Admin"}),e.jsx("div",{className:"date",style:{marginLeft:"20px"},children:f(r.published_at)})]}),e.jsx("div",{className:"poem-text",dangerouslySetInnerHTML:{__html:h(r.content)}})]}),e.jsxs("div",{className:"poem-sidebar",children:[d.length>0&&e.jsxs("div",{className:"sidebar-section",children:[e.jsx("div",{className:"sidebar-title",children:"Categories"}),e.jsx("div",{className:"sidebar-content",children:d.map((o,l)=>e.jsxs("span",{children:[e.jsx(O,{to:`/category/${o.slug}`,style:{color:"#666",textDecoration:"none"},children:o.name}),l<d.length-1&&", "]},o.id))})]}),x.length>0&&e.jsxs("div",{className:"sidebar-section",children:[e.jsx("div",{className:"sidebar-title",children:"Tags"}),e.jsx("div",{className:"sidebar-content",children:x.map((o,l)=>e.jsxs("span",{children:[e.jsx(O,{to:`/tag/${o.slug}`,style:{color:"#666",textDecoration:"none"},children:o.name}),l<x.length-1&&", "]},o.id))})]}),g.length>0&&e.jsxs("div",{className:"sidebar-section",children:[e.jsx("div",{className:"sidebar-title",children:"Related Posts"}),e.jsx("div",{className:"sidebar-content",children:g.map(o=>e.jsx("div",{style:{marginBottom:"10px"},children:e.jsx(O,{to:`/${o.slug}`,style:{color:"#666",textDecoration:"none",fontSize:"13px",display:"block"},children:o.title})},o.id))})]})]})]})},ye=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"})),de=({searchQuery:t})=>{const[r,i]=a.useState([]),[g,s]=a.useState(!0),[d,j]=a.useState(null);a.useEffect(()=>{x()},[t]);const x=()=>k(null,null,function*(){try{s(!0);let n=`
        SELECT
          u.id, u.wp_id, u.user_login, u.display_name, u.user_registered,
          COUNT(p.id) as post_count
        FROM users u
        LEFT JOIN posts p ON u.id = p.author_id AND p.status = 'published'
      `;t&&t.trim()&&(n+=` WHERE u.display_name ILIKE '%${t}%'`),n+=`
        GROUP BY u.id, u.wp_id, u.user_login, u.display_name, u.user_registered
        HAVING COUNT(p.id) > 0
        ORDER BY COUNT(p.id) DESC
      `;const{data:u,error:p}=yield w.rpc("execute_sql",{query:n});if(p)return console.warn("RPC query failed, using fallback method:",p),yield m();const c=(u==null?void 0:u.map(f=>({id:f.id,wp_id:f.wp_id,user_login:f.user_login,display_name:f.display_name,user_registered:f.user_registered,postCount:parseInt(f.post_count)||0})))||[];i(c)}catch(n){console.error("Error fetching authors:",n),yield m()}finally{s(!1)}}),m=()=>k(null,null,function*(){try{const{data:n,error:u}=yield w.from("posts").select(`
          author_id,
          users!posts_author_id_fkey (
            id,
            wp_id,
            user_login,
            display_name,
            user_registered
          )
        `).eq("status","published");if(u)throw u;const p=new Map;n==null||n.forEach(f=>{const h=f.users;if(h){const o=h.id;p.has(o)?p.get(o).postCount++:p.set(o,_(b({},h),{postCount:1}))}});let c=Array.from(p.values());if(t&&t.trim()){const f=t.toLowerCase();c=c.filter(h=>h.display_name.toLowerCase().includes(f))}c.sort((f,h)=>h.postCount-f.postCount),i(c)}catch(n){console.error("Error in fallback method:",n),j("Failed to load authors")}}),y=n=>n?n.split(" ").map(u=>u.charAt(0)).join("").toUpperCase().substring(0,2):"A";return g?e.jsx("div",{className:"author-grid",children:e.jsx("div",{className:"loading",children:"Loading authors..."})}):d?e.jsx("div",{className:"author-grid",children:e.jsx("div",{className:"error",children:d})}):r.length===0?e.jsx("div",{className:"author-grid",children:e.jsx("div",{className:"loading",children:t?`No authors found for "${t}"`:"No authors available"})}):e.jsx("div",{className:"author-grid",children:r.map(n=>e.jsxs(O,{to:`/author/${n.user_login}`,className:"author-card",children:[e.jsx("div",{className:"author-avatar",children:y(n.display_name)}),e.jsx("div",{className:"author-name",children:n.display_name}),e.jsxs("div",{className:"author-count",children:[n.postCount," ",n.postCount===1?"post":"posts"]})]},n.id))})},ve=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"})),ce=({searchQuery:t})=>{const{username:r}=D(),[i,g]=a.useState([]),[s,d]=a.useState(null),[j,x]=a.useState(!0),[m,y]=a.useState(null);a.useEffect(()=>{r&&n()},[r,t]);const n=()=>k(null,null,function*(){try{x(!0);const{data:c,error:f}=yield w.from("users").select("*").eq("user_login",r).single();if(f)throw f;d(c);let h=w.from("posts").select("*").eq("author_id",c.id).eq("status","published").order("published_at",{ascending:!1});t&&t.trim()&&(h=h.or(`title.ilike.%${t}%,content.ilike.%${t}%`));const{data:o,error:l}=yield h;if(l)throw l;g(o||[])}catch(c){console.error("Error fetching author posts:",c),y("Author not found")}finally{x(!1)}}),u=c=>c?c.split(" ").map(f=>f.charAt(0)).join("").toUpperCase().substring(0,2):"A",p=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return j?e.jsx("div",{className:"main-grid",children:e.jsx("div",{className:"loading",children:"Loading author..."})}):m||!s?e.jsx("div",{className:"main-grid",children:e.jsx("div",{className:"error",children:m||"Author not found"})}):e.jsxs(e.Fragment,{children:[s&&e.jsxs("div",{style:{textAlign:"center",marginBottom:"30px",padding:"40px 20px",background:"white",border:"1px solid #f0f0f0"},children:[e.jsx("div",{style:{width:"80px",height:"80px",background:"#ddd",borderRadius:"50%",margin:"0 auto 20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",fontWeight:"bold",color:"#666"},children:u(s.display_name)}),e.jsx("h1",{style:{fontSize:"32px",fontWeight:"bold",color:"#333",marginBottom:"10px"},children:s.display_name}),e.jsxs("p",{style:{color:"#666",fontSize:"16px",marginBottom:"10px"},children:["@",s.user_login]}),e.jsxs("p",{style:{color:"#999",fontSize:"14px",marginBottom:"10px"},children:["Member since ",p(s.user_registered)]}),e.jsxs("p",{style:{color:"#999",fontSize:"14px"},children:[i.length," ",i.length===1?"post":"posts"," published"]})]}),i.length===0?e.jsx("div",{className:"main-grid",children:e.jsx("div",{className:"loading",children:t?`No posts found by ${s==null?void 0:s.display_name} for "${t}"`:`No posts found by ${s==null?void 0:s.display_name}`})}):e.jsx("div",{className:"main-grid",children:i.map(c=>e.jsx(T,{post:c},c.id))})]})},be=Object.freeze(Object.defineProperty({__proto__:null,default:ce},Symbol.toStringTag,{value:"Module"})),ue=({searchQuery:t})=>{const{slug:r}=D(),[i,g]=a.useState([]),[s,d]=a.useState(null),[j,x]=a.useState(!0),[m,y]=a.useState(null);a.useEffect(()=>{r&&n()},[r,t]);const n=()=>k(null,null,function*(){try{x(!0);const{data:u,error:p}=yield w.from("categories").select("id, name, slug, description").eq("slug",r).single();if(p)throw p;d(u);const{data:c,error:f}=yield w.from("post_categories").select(`
          posts (
            id,
            title,
            slug,
            content,
            excerpt,
            author_id,
            published_at
          )
        `).eq("category_id",u.id);if(f)throw f;let h=(c==null?void 0:c.map(o=>o.posts).filter(o=>o))||[];if(t&&t.trim()){const o=t.toLowerCase();h=h.filter(l=>l.title.toLowerCase().includes(o)||l.content&&l.content.toLowerCase().includes(o))}h.sort((o,l)=>new Date(l.published_at)-new Date(o.published_at)),g(h)}catch(u){console.error("Error fetching category posts:",u),y("Failed to load category posts")}finally{x(!1)}});return j?e.jsx("div",{className:"main-grid",children:e.jsx("div",{className:"loading",children:"Loading posts..."})}):m?e.jsx("div",{className:"main-grid",children:e.jsx("div",{className:"error",children:m})}):i.length===0?e.jsx("div",{className:"main-grid",children:e.jsx("div",{className:"loading",children:t?`No posts found in "${s==null?void 0:s.name}" for "${t}"`:`No posts found in "${s==null?void 0:s.name}"`})}):e.jsxs(e.Fragment,{children:[s&&e.jsxs("div",{style:{textAlign:"center",marginBottom:"30px",padding:"20px",background:"white",border:"1px solid #f0f0f0"},children:[e.jsx("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#333",marginBottom:"10px"},children:s.name}),s.description&&e.jsx("p",{style:{color:"#666",fontSize:"16px"},children:s.description}),e.jsxs("p",{style:{color:"#999",fontSize:"14px",marginTop:"10px"},children:[i.length," ",i.length===1?"post":"posts"]})]}),e.jsx("div",{className:"main-grid",children:i.map(u=>e.jsx(T,{post:u},u.id))})]})},_e=Object.freeze(Object.defineProperty({__proto__:null,default:ue},Symbol.toStringTag,{value:"Module"})),me=({searchQuery:t})=>{const{slug:r}=D(),[i,g]=a.useState([]),[s,d]=a.useState(null),[j,x]=a.useState(!0),[m,y]=a.useState(null);a.useEffect(()=>{r&&n()},[r,t]);const n=()=>k(null,null,function*(){try{x(!0);const{data:u,error:p}=yield w.from("tags").select("id, name, slug, description").eq("slug",r).single();if(p)throw p;d(u);const{data:c,error:f}=yield w.from("post_tags").select(`
          posts (
            id,
            title,
            slug,
            content,
            excerpt,
            author_id,
            published_at
          )
        `).eq("tag_id",u.id);if(f)throw f;let h=(c==null?void 0:c.map(o=>o.posts).filter(o=>o))||[];if(t&&t.trim()){const o=t.toLowerCase();h=h.filter(l=>l.title.toLowerCase().includes(o)||l.content&&l.content.toLowerCase().includes(o))}h.sort((o,l)=>new Date(l.published_at)-new Date(o.published_at)),g(h)}catch(u){console.error("Error fetching tag posts:",u),y("Failed to load tag posts")}finally{x(!1)}});return j?e.jsx("div",{className:"main-grid",children:e.jsx("div",{className:"loading",children:"Loading posts..."})}):m?e.jsx("div",{className:"main-grid",children:e.jsx("div",{className:"error",children:m})}):i.length===0?e.jsx("div",{className:"main-grid",children:e.jsx("div",{className:"loading",children:t?`No posts found with tag "${s==null?void 0:s.name}" for "${t}"`:`No posts found with tag "${s==null?void 0:s.name}"`})}):e.jsxs(e.Fragment,{children:[s&&e.jsxs("div",{style:{textAlign:"center",marginBottom:"30px",padding:"20px",background:"white",border:"1px solid #f0f0f0"},children:[e.jsxs("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#333",marginBottom:"10px"},children:["#",s.name]}),s.description&&e.jsx("p",{style:{color:"#666",fontSize:"16px"},children:s.description}),e.jsxs("p",{style:{color:"#999",fontSize:"14px",marginTop:"10px"},children:[i.length," ",i.length===1?"post":"posts"]})]}),e.jsx("div",{className:"main-grid",children:i.map(u=>e.jsx(T,{post:u},u.id))})]})},we=Object.freeze(Object.defineProperty({__proto__:null,default:me},Symbol.toStringTag,{value:"Module"}));export{ve as A,_e as C,je as H,I as S,we as T,ye as a,be as b,fe as d,e as j};
