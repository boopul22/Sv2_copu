var f=(i,n,o)=>new Promise((d,s)=>{var p=t=>{try{u(o.next(t))}catch(a){s(a)}},c=t=>{try{u(o.throw(t))}catch(a){s(a)}},u=t=>t.done?d(t.value):Promise.resolve(t.value).then(p,c);u((o=o.apply(i,n)).next())});import{d as h,r as l,j as e}from"./react-vendor-DV45Ikwi.js";import{x as g,y as v}from"./utils-BE2o5J05.js";import{P as D}from"./components-BPkeUS7W.js";import"./vendor-B0T_4ch3.js";import"./supabase-vendor-CPNJAKHt.js";const E=({searchQuery:i})=>{const{username:n}=h(),[o,d]=l.useState([]),[s,p]=l.useState(null),[c,u]=l.useState(!0),[t,a]=l.useState(null);l.useEffect(()=>{n&&b()},[n,i]);const b=()=>f(null,null,function*(){try{u(!0);const r=yield g(n);if(!r)throw new Error("Author not found");p(r);const m=yield v(r.id,i);d(m)}catch(r){a("Author not found")}finally{u(!1)}}),N=r=>r?r.split(" ").map(m=>m.charAt(0)).join("").toUpperCase().substring(0,2):"A",x=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return c?e.jsxDEV("div",{className:"main-grid",children:e.jsxDEV("div",{className:"loading",children:"Loading author..."},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Author.jsx",lineNumber:65,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Author.jsx",lineNumber:64,columnNumber:7},void 0):t||!s?e.jsxDEV("div",{className:"main-grid",children:e.jsxDEV("div",{className:"error",children:t||"Author not found"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Author.jsx",lineNumber:73,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Author.jsx",lineNumber:72,columnNumber:7},void 0):e.jsxDEV(e.Fragment,{children:[s&&e.jsxDEV("div",{style:{textAlign:"center",marginBottom:"30px",padding:"40px 20px",background:"white",border:"1px solid #f0f0f0"},children:[e.jsxDEV("div",{style:{width:"80px",height:"80px",background:"#ddd",borderRadius:"50%",margin:"0 auto 20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",fontWeight:"bold",color:"#666"},children:N(s.display_name)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Author.jsx",lineNumber:88,columnNumber:11},void 0),e.jsxDEV("h1",{style:{fontSize:"32px",fontWeight:"bold",color:"#333",marginBottom:"10px"},children:s.display_name},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Author.jsx",lineNumber:104,columnNumber:11},void 0),e.jsxDEV("p",{style:{color:"#666",fontSize:"16px",marginBottom:"10px"},children:["@",s.user_login]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Author.jsx",lineNumber:113,columnNumber:11},void 0),e.jsxDEV("p",{style:{color:"#999",fontSize:"14px",marginBottom:"10px"},children:["Member since ",x(s.user_registered)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Author.jsx",lineNumber:117,columnNumber:11},void 0),e.jsxDEV("p",{style:{color:"#999",fontSize:"14px"},children:[o.length," ",o.length===1?"post":"posts"," published"]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Author.jsx",lineNumber:121,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Author.jsx",lineNumber:81,columnNumber:9},void 0),o.length===0?e.jsxDEV("div",{className:"main-grid",children:e.jsxDEV("div",{className:"loading",children:i?`No posts found by ${s==null?void 0:s.display_name} for "${i}"`:`No posts found by ${s==null?void 0:s.display_name}`},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Author.jsx",lineNumber:129,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Author.jsx",lineNumber:128,columnNumber:9},void 0):e.jsxDEV("div",{className:"main-grid",children:o.map(r=>e.jsxDEV(D,{post:r},r.id,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Author.jsx",lineNumber:139,columnNumber:13},void 0))},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Author.jsx",lineNumber:137,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Author.jsx",lineNumber:79,columnNumber:5},void 0)};export{E as default};
