var c=(i,n,o)=>new Promise((m,s)=>{var d=r=>{try{a(o.next(r))}catch(u){s(u)}},p=r=>{try{a(o.throw(r))}catch(u){s(u)}},a=r=>r.done?m(r.value):Promise.resolve(r.value).then(d,p);a((o=o.apply(i,n)).next())});import{d as b,r as l,j as e}from"./react-vendor-DV45Ikwi.js";import{z as N,A as x}from"./utils-9Fb_5NIc.js";import{P as y}from"./components-COn4n8qM.js";import"./vendor-B0T_4ch3.js";import"./supabase-vendor-CPNJAKHt.js";const w=({searchQuery:i})=>{const{slug:n}=b(),[o,m]=l.useState([]),[s,d]=l.useState(null),[p,a]=l.useState(!0),[r,u]=l.useState(null);l.useEffect(()=>{n&&f()},[n,i]);const f=()=>c(null,null,function*(){try{a(!0);const t=yield N(n);if(!t)throw new Error("Category not found");d(t);const g=yield x(t.id,i);m(g)}catch(t){u("Failed to load category posts")}finally{a(!1)}});return p?e.jsxDEV("div",{className:"main-grid",children:e.jsxDEV("div",{className:"loading",children:"Loading posts..."},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Category.jsx",lineNumber:46,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Category.jsx",lineNumber:45,columnNumber:7},void 0):r?e.jsxDEV("div",{className:"main-grid",children:e.jsxDEV("div",{className:"error",children:r},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Category.jsx",lineNumber:54,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Category.jsx",lineNumber:53,columnNumber:7},void 0):o.length===0?e.jsxDEV("div",{className:"main-grid",children:e.jsxDEV("div",{className:"loading",children:i?`No posts found in "${s==null?void 0:s.name}" for "${i}"`:`No posts found in "${s==null?void 0:s.name}"`},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Category.jsx",lineNumber:62,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Category.jsx",lineNumber:61,columnNumber:7},void 0):e.jsxDEV(e.Fragment,{children:[s&&e.jsxDEV("div",{style:{textAlign:"center",marginBottom:"30px",padding:"20px",background:"white",border:"1px solid #f0f0f0"},children:[e.jsxDEV("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#333",marginBottom:"10px"},children:s.name},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Category.jsx",lineNumber:82,columnNumber:11},void 0),s.description&&e.jsxDEV("p",{style:{color:"#666",fontSize:"16px"},children:s.description},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Category.jsx",lineNumber:91,columnNumber:13},void 0),e.jsxDEV("p",{style:{color:"#999",fontSize:"14px",marginTop:"10px"},children:[o.length," ",o.length===1?"post":"posts"]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Category.jsx",lineNumber:95,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Category.jsx",lineNumber:75,columnNumber:9},void 0),e.jsxDEV("div",{className:"main-grid",children:o.map(t=>e.jsxDEV(y,{post:t},t.id,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Category.jsx",lineNumber:103,columnNumber:11},void 0))},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Category.jsx",lineNumber:101,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/browse/pages/Category.jsx",lineNumber:73,columnNumber:5},void 0)};export{w as default};
